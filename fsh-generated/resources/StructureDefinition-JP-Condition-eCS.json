{
  "resourceType": "StructureDefinition",
  "id": "JP-Condition-eCS",
  "url": "http://jpfhir.jp/fhir/eClinicalSummary/StructureDefinition/JP_Condition_eClinicalSummary",
  "name": "JP_Condition_eCS",
  "title": "Core6 : JP_Condition_eCS",
  "status": "active",
  "date": "2023-05-27",
  "description": "診療情報コアサマリー用　Conditionリソース（傷病名情報）プロファイル",
  "fhirVersion": "4.0.1",
  "mapping": [
    {
      "identity": "workflow",
      "uri": "http://hl7.org/fhir/workflow",
      "name": "Workflow Pattern"
    },
    {
      "identity": "sct-concept",
      "uri": "http://snomed.info/conceptdomain",
      "name": "SNOMED CT Concept Domain Binding"
    },
    {
      "identity": "v2",
      "uri": "http://hl7.org/v2",
      "name": "HL7 v2 Mapping"
    },
    {
      "identity": "rim",
      "uri": "http://hl7.org/v3",
      "name": "RIM Mapping"
    },
    {
      "identity": "w5",
      "uri": "http://hl7.org/fhir/fivews",
      "name": "FiveWs Pattern Mapping"
    },
    {
      "identity": "sct-attr",
      "uri": "http://snomed.org/attributebinding",
      "name": "SNOMED CT Attribute Binding"
    }
  ],
  "kind": "resource",
  "abstract": false,
  "type": "Condition",
  "baseDefinition": "http://jpfhir.jp/fhir/core/StructureDefinition/JP_Condition",
  "derivation": "constraint",
  "differential": {
    "element": [
      {
        "id": "Condition",
        "path": "Condition",
        "short": "診療情報コアサマリーにおける傷病名情報の格納に使用する",
        "definition": "診療情報コアサマリー・厚労省6情報などにおける傷病名情報の格納に使用する"
      },
      {
        "id": "Condition.contained",
        "path": "Condition.contained",
        "slicing": {
          "discriminator": [
            {
              "type": "profile",
              "path": "$this"
            }
          ],
          "rules": "open"
        },
        "min": 1
      },
      {
        "id": "Condition.contained:patient",
        "path": "Condition.contained",
        "sliceName": "patient",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "Patient",
            "profile": [
              "http://jpfhir.jp/fhir/eClinicalSummary/StructureDefinition/JP_Patient_eCS_Contained",
              "http://jpfhir.jp/fhir/core/StructureDefinition/JP_Patient"
            ]
          }
        ]
      },
      {
        "id": "Condition.contained:encounter",
        "path": "Condition.contained",
        "sliceName": "encounter",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Encounter",
            "profile": [
              "http://jpfhir.jp/fhir/eClinicalSummary/StructureDefinition/JP_Encounter_OW_eCS_Contained",
              "http://jpfhir.jp/fhir/core/StructureDefinition/JP_Encounter"
            ]
          }
        ]
      },
      {
        "id": "Condition.contained:recorder",
        "path": "Condition.contained",
        "sliceName": "recorder",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Practitioner",
            "profile": [
              "http://jpfhir.jp/fhir/eClinicalSummary/StructureDefinition/JP_Practitioner_eCS_Contained",
              "http://jpfhir.jp/fhir/core/StructureDefinition/JP_Practitioner"
            ]
          }
        ]
      },
      {
        "id": "Condition.identifier",
        "path": "Condition.identifier",
        "slicing": {
          "discriminator": [
            {
              "type": "value",
              "path": "type"
            }
          ],
          "rules": "open"
        },
        "short": "当該リソースインスタンス（データ）に対して、施設内で当該システムにより割りふられる一意の識別子",
        "definition": "当該リソースインスタンス（データ）に対して、施設内で当該システムにより割りふられる一意の識別子",
        "comment": "当該施設内で当該リソースインスタンスに割り振られる一意の識別子があればそれを使用する。すくなくともひとつのidentifierは、その削除や更新が可能な論理キーとなれる、識別IDである必要がある。それ以外に追加で当該施設または別の施設が別のsystem値との組み合わせによる異なるidentifierを1個以上設定してもよい。\r\nSS-MIX2から生成する場合には、次のルールを参考に１伝票内の１項目を識別できるようにする。\r\nアプリケーション側のデータベースにおけるフィールド長の定義については、最低64バイトを確保すること。\r\n\r\n--- 参考（検査結果項目の場合） ---\r\n\r\n次の項目を順にセパレータ「_(アンダースコア)」で連結し、 identifier.value に設定する。グループ項目でない場合など、該当コード／番号がない場合はセパレータを連続で連結する。各コードはローカルコードを使用し、必ず設定できること。\r\n\r\n　１．ORC-2(依頼者オーダ番号)　SS-MIX2の15桁前ゼロ形式の番号\r\n\r\n　２．OBR-4(検査項目ID)　検査セットの識別コード\r\n\r\n　３．SPM-4(検体タイプ)\r\n\r\n　４．OBX-3(検査項目)\r\n\r\n　５．OBX-4(検査副ID)・・・オプション。必要に応じて使用。\r\n\r\n形式：[ORC-2]_[OBR-4]_[SPM-4]_[OBX-3]（_[OBX-4]）",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Condition.identifier.id",
        "path": "Condition.identifier.id",
        "mustSupport": true
      },
      {
        "id": "Condition.identifier.use",
        "path": "Condition.identifier.use",
        "short": "この識別子の設定・利用目的を表すコード。",
        "definition": "この識別子の設定・利用目的コード。当該施設やシステムにおける一意キーには 'official'を設定する。この要素が存在しない場合にもofficialとみなす。",
        "mustSupport": true
      },
      {
        "id": "Condition.identifier.system",
        "path": "Condition.identifier.system",
        "short": "このidebtifierの番号体系を識別するurl",
        "definition": "このidentifierの番号体系を識別するurl",
        "comment": "identifier.useが'official'の場合には、http://jpfhir.jp/fhir/eClinicalSummary/医療機関識別ID/システム識別文字列/システムバージョン記号番号　（例）を設定する。システム識別文字列は、当該施設でこの識別子の一意性を確保できるシステム識別文字列、たとえばMEDEMR2023など。医療機関識別IDは原則として、数字1の後ろに都道府県番号2桁、施設区分1桁（医科：1、歯科：3、調剤：4）、 機関番号7桁を連結した11桁とする。このsystem値のもとでvalueに設定される値が意味的に一意であればよい。",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Condition.identifier.value",
        "path": "Condition.identifier.value",
        "short": "システムのコンテキスト内で一意の識別子となるidentifierの値を設定。",
        "definition": "システムのコンテキスト内で一意の識別子となるidentifierの値を設定。",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Condition.identifier.assigner",
        "path": "Condition.identifier.assigner",
        "comment": "当面、コア情報ではこの情報を記録しないが、記録する場合には display子要素だけとし、別のリソースへの参照をしない。（新たなcontainedリソースの記述を避けるため）"
      },
      {
        "id": "Condition.identifier:systemTypeA_AccessionID",
        "path": "Condition.identifier",
        "sliceName": "systemTypeA_AccessionID",
        "short": "リソースインスタンスごとに異なる安定したIDがインスタンス識別子として割りあてられたidentifier",
        "definition": "リソースインスタンスごとに異なる安定したIDがインスタンス識別子として割りあてられたidentifier。このidentifierにより特定の「１個だけの」リソースインスタンスをアクセスできる。",
        "comment": "６情報としてこのリソースインスタンスが送信される場合には、削除や更新処理時にキーとして指定されるIDとして、systemTypeA_AccessionID、systemTypeB_PlacerID、systemTypeB_FillerIDのいずれかのタイプのidentifierのひとつが必須である。２つ以上あってはいけない。",
        "min": 0,
        "max": "1"
      },
      {
        "id": "Condition.identifier:systemTypeA_AccessionID.type",
        "path": "Condition.identifier.type",
        "min": 1,
        "patternCodeableConcept": {
          "coding": [
            {
              "code": "ACSN",
              "system": "http://terminology.hl7.org/CodeSystem/v2-0203"
            }
          ]
        },
        "mustSupport": true
      },
      {
        "id": "Condition.identifier:systemTypeA_AccessionID.type.coding.system",
        "path": "Condition.identifier.type.coding.system",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Condition.identifier:systemTypeA_AccessionID.type.coding.code",
        "path": "Condition.identifier.type.coding.code",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Condition.identifier:systemTypeB_PlacerID",
        "path": "Condition.identifier",
        "sliceName": "systemTypeB_PlacerID",
        "short": "オーダ番号など、ひとつのオーダIDのもとに発行されたリソースインスタンスを一括してアクセスするためにインスタンス識別子として割りあてられたidentifier",
        "definition": "オーダ番号など、ひとつのIDのもとに発行されたリソースインスタンスを一括してアクセスするためにインスタンス識別子として割りあてられたidentifier。このidentifierにより一括して「複数の」「同時に削除や更新がなされる」リソースインスタンスをアクセスできる。",
        "comment": "systemTypeB_PlacerIDとsystemTypeB_FillerIDは厳密に区別する必要はない。６情報としてこのリソースインスタンスが送信される場合には、削除や更新処理時にキーとして指定されるIDとして、systemTypeA_AccessionID、systemTypeB_PlacerID、systemTypeB_FillerIDのいずれかのタイプのidentifierのひとつが必須である。２つ以上あってはいけない。",
        "min": 0,
        "max": "1"
      },
      {
        "id": "Condition.identifier:systemTypeB_PlacerID.type",
        "path": "Condition.identifier.type",
        "min": 1,
        "patternCodeableConcept": {
          "coding": [
            {
              "code": "PLAC",
              "system": "http://terminology.hl7.org/CodeSystem/v2-0203"
            }
          ]
        },
        "mustSupport": true
      },
      {
        "id": "Condition.identifier:systemTypeB_PlacerID.type.coding.system",
        "path": "Condition.identifier.type.coding.system",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Condition.identifier:systemTypeB_PlacerID.type.coding.code",
        "path": "Condition.identifier.type.coding.code",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Condition.identifier:systemTypeB_FillerID",
        "path": "Condition.identifier",
        "sliceName": "systemTypeB_FillerID",
        "short": "報告書番号や実施番号など、ひとつのIDのもとに発行されたリソースインスタンスを一括してアクセスするためにインスタンス識別子として割りあてられたidentifier",
        "definition": "報告書番号や実施番号など、ひとつのIDのもとに発行されたリソースインスタンスを一括してアクセスするためにインスタンス識別子として割りあてられたidentifier。このidentifierにより一括して「複数の」「同時に削除や更新がなされる」リソースインスタンスをアクセスできる。",
        "comment": "systemTypeB_PlacerIDとsystemTypeB_FillerIDは厳密に区別する必要はない。６情報としてこのリソースインスタンスが送信される場合には、削除や更新処理時にキーとして指定されるIDとして、systemTypeA_AccessionID、systemTypeB_PlacerID、systemTypeB_FillerIDのいずれかのタイプのidentifierのひとつが必須である。２つ以上あってはいけない。",
        "min": 0,
        "max": "1"
      },
      {
        "id": "Condition.identifier:systemTypeB_FillerID.type",
        "path": "Condition.identifier.type",
        "min": 1,
        "patternCodeableConcept": {
          "coding": [
            {
              "code": "FILL",
              "system": "http://terminology.hl7.org/CodeSystem/v2-0203"
            }
          ]
        },
        "mustSupport": true
      },
      {
        "id": "Condition.identifier:systemTypeB_FillerID.type.coding.system",
        "path": "Condition.identifier.type.coding.system",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Condition.identifier:systemTypeB_FillerID.type.coding.code",
        "path": "Condition.identifier.type.coding.code",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Condition.clinicalStatus",
        "path": "Condition.clinicalStatus",
        "short": "病名最終日（onsetPeriod.end)での状態（転帰）",
        "definition": "病名最終日（onsetPeriod.end)での状態（転帰）",
        "comment": "コード表　http://terminology.hl7.org/CodeSystem/condition-clinical　から　active（存続）, remission(軽快、寛解), inactive（治癒以外での病名の終了）, resolved (治癒) のいずれかを選ぶ。"
      },
      {
        "id": "Condition.code",
        "path": "Condition.code",
        "short": "傷病名のコードと名称",
        "definition": "傷病名のコードと名称",
        "comment": "傷病名のコードと名称",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Condition.code.coding",
        "path": "Condition.code.coding",
        "slicing": {
          "discriminator": [
            {
              "type": "value",
              "path": "system"
            }
          ],
          "rules": "open"
        },
        "binding": {
          "description": "MEDIS 病名交換コード、病名管理番号、ICD10分類コード、レセプト電算処理用傷病名コード、またはレセプト電算処理用傷病名コードの未コード化コード(7桁all 9)のいずれかまたは複数の組み合わせで表現する。"
        }
      },
      {
        "id": "Condition.code.coding:mediskoukan",
        "path": "Condition.code.coding",
        "sliceName": "mediskoukan",
        "min": 0,
        "max": "*",
        "mustSupport": true
      },
      {
        "id": "Condition.code.coding:mediskoukan.system",
        "path": "Condition.code.coding.system",
        "min": 1,
        "fixedUri": "urn:oid:1.2.392.200119.4.101.6"
      },
      {
        "id": "Condition.code.coding:mediskanri",
        "path": "Condition.code.coding",
        "sliceName": "mediskanri",
        "min": 0,
        "max": "*",
        "mustSupport": true
      },
      {
        "id": "Condition.code.coding:mediskanri.system",
        "path": "Condition.code.coding.system",
        "min": 1,
        "fixedUri": "urn:oid:1.2.392.200119.4.101.2"
      },
      {
        "id": "Condition.code.coding:syobo",
        "path": "Condition.code.coding",
        "sliceName": "syobo",
        "min": 0,
        "max": "*",
        "mustSupport": true
      },
      {
        "id": "Condition.code.coding:syobo.system",
        "path": "Condition.code.coding.system",
        "min": 1,
        "fixedUri": "http://jpfhi.jp/fhir/CodeSystem/claimSystem_syobyomei_CS"
      },
      {
        "id": "Condition.code.coding:icd10",
        "path": "Condition.code.coding",
        "sliceName": "icd10",
        "min": 0,
        "max": "*",
        "mustSupport": true
      },
      {
        "id": "Condition.code.coding:icd10.system",
        "path": "Condition.code.coding.system",
        "min": 1,
        "fixedUri": "urn:oid:2.16.840.1.113883.6.3.1"
      },
      {
        "id": "Condition.bodySite",
        "path": "Condition.bodySite",
        "short": "傷病名の部位等の情報、部位以外の修飾語もここに格納する",
        "definition": "修飾語のコードと名称",
        "comment": "修飾語のコードと名称",
        "mustSupport": true
      },
      {
        "id": "Condition.bodySite.coding",
        "path": "Condition.bodySite.coding",
        "slicing": {
          "discriminator": [
            {
              "type": "value",
              "path": "system"
            }
          ],
          "rules": "open"
        },
        "binding": {
          "description": "MEDIS 病名修飾語コード、修飾語管理番号、レセプト電算処理用傷病名修飾語コードのいずれかまたは複数の組み合わせで表現する。"
        }
      },
      {
        "id": "Condition.bodySite.coding:mediskoukan",
        "path": "Condition.bodySite.coding",
        "sliceName": "mediskoukan",
        "min": 0,
        "max": "*",
        "mustSupport": true
      },
      {
        "id": "Condition.bodySite.coding:mediskoukan.system",
        "path": "Condition.bodySite.coding.system",
        "min": 1,
        "fixedUri": "urn:oid:1.2.392.200119.4.201.5"
      },
      {
        "id": "Condition.bodySite.coding:mediskanri",
        "path": "Condition.bodySite.coding",
        "sliceName": "mediskanri",
        "min": 0,
        "max": "*",
        "mustSupport": true
      },
      {
        "id": "Condition.bodySite.coding:mediskanri.system",
        "path": "Condition.bodySite.coding.system",
        "min": 1,
        "fixedUri": "urn:oid:1.2.392.200119.4.201.2"
      },
      {
        "id": "Condition.bodySite.coding:syobo",
        "path": "Condition.bodySite.coding",
        "sliceName": "syobo",
        "min": 0,
        "max": "*",
        "mustSupport": true
      },
      {
        "id": "Condition.bodySite.coding:syobo.system",
        "path": "Condition.bodySite.coding.system",
        "min": 1,
        "fixedUri": "http://jpfhi.jp/fhir/CodeSystem/claimSystem_syobyomei_CS"
      },
      {
        "id": "Condition.subject",
        "path": "Condition.subject",
        "short": "患者",
        "definition": "患者",
        "comment": "Containedリソースに含まれる患者リソースのid(identifierではなく)をリソース内で#を最初につけて参照する。（患者リソースのid を　123 とすると、　{\"reference\" : \"#123\" }のようになる。）",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "http://jpfhir.jp/fhir/eClinicalSummary/StructureDefinition/JP_Patient_eCS_Contained"
            ]
          }
        ],
        "mustSupport": true
      },
      {
        "id": "Condition.encounter",
        "path": "Condition.encounter",
        "short": "病名をつけたときの受診情報（入外区分など）",
        "definition": "病名をつけたときの受診情報（入外区分など）を表すEncounterリソース（Containedリソース）への参照",
        "comment": "Containedリソースに含まれるEncounterリソースをリソース内で参照する。なくてもよい。",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "http://jpfhir.jp/fhir/eClinicalSummary/StructureDefinition/JP_Encounter_OW_eCS_Contained"
            ]
          }
        ],
        "mustSupport": true
      },
      {
        "id": "Condition.onset[x]",
        "path": "Condition.onset[x]",
        "type": [
          {
            "code": "Period"
          }
        ]
      },
      {
        "id": "Condition.onset[x].start",
        "path": "Condition.onset[x].start",
        "short": "病名開始日"
      },
      {
        "id": "Condition.onset[x].end",
        "path": "Condition.onset[x].end",
        "short": "病名終了日"
      },
      {
        "id": "Condition.recordedDate",
        "path": "Condition.recordedDate",
        "short": "この情報を記録した登録日",
        "definition": "この情報を記録した登録日",
        "mustSupport": true
      },
      {
        "id": "Condition.recorder",
        "path": "Condition.recorder",
        "short": "この情報を記録した登録者",
        "definition": "登録者を表すPractitionerリソース（Containedリソース）への参照",
        "comment": "Containedリソースに含まれるPractitioner（登録者/医療者）リソースをこのリソース内で参照する。",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "http://jpfhir.jp/fhir/eClinicalSummary/StructureDefinition/JP_Practitioner_eCS_Contained"
            ]
          }
        ],
        "mustSupport": true
      },
      {
        "id": "Condition.asserter",
        "path": "Condition.asserter",
        "comment": "当面、コア情報ではこの情報を記録しないが、記録する場合には display子要素だけとし、別のリソースへの参照をしない。（新たなcontainedリソースの記述を避けるため）",
        "mustSupport": true
      },
      {
        "id": "Condition.stage.assessment",
        "path": "Condition.stage.assessment",
        "comment": "当面、コア情報ではこの情報を記録しないが、記録する場合には display子要素だけとし、別のリソースへの参照をしない。（新たなcontainedリソースの記述を避けるため）"
      },
      {
        "id": "Condition.evidence.detail",
        "path": "Condition.evidence.detail",
        "comment": "当面、コア情報ではこの情報を記録しないが、記録する場合には display子要素だけとし、別のリソースへの参照をしない。（新たなcontainedリソースの記述を避けるため）"
      }
    ]
  }
}
