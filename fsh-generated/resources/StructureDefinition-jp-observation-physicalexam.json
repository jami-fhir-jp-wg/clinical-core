{
  "resourceType": "StructureDefinition",
  "id": "jp-observation-physicalexam",
  "extension": [
    {
      "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-category",
      "valueString": "Clinical.Diagnostics"
    },
    {
      "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-security-category",
      "valueCode": "patient"
    }
  ],
  "url": "http://jpfhir.jp/fhir/core/StructureDefinition/JP_Observation_PhysicalExam",
  "version": "0.1.0",
  "name": "JP_Observation_PhysicalExam",
  "title": "JP Core Observation PhysicalExam Profile",
  "status": "active",
  "date": "2022-10-24",
  "description": "このプロファイルはObservationリソースに対して、身体所見のデータを送受信するための制約と拡張を定めたものである。",
  "fhirVersion": "4.0.1",
  "mapping": [
    {
      "identity": "workflow",
      "uri": "http://hl7.org/fhir/workflow",
      "name": "Workflow Pattern"
    },
    {
      "identity": "sct-concept",
      "uri": "http://snomed.info/conceptdomain",
      "name": "SNOMED CT Concept Domain Binding"
    },
    {
      "identity": "v2",
      "uri": "http://hl7.org/v2",
      "name": "HL7 v2 Mapping"
    },
    {
      "identity": "rim",
      "uri": "http://hl7.org/v3",
      "name": "RIM Mapping"
    },
    {
      "identity": "w5",
      "uri": "http://hl7.org/fhir/fivews",
      "name": "FiveWs Pattern Mapping"
    },
    {
      "identity": "sct-attr",
      "uri": "http://snomed.org/attributebinding",
      "name": "SNOMED CT Attribute Binding"
    }
  ],
  "kind": "resource",
  "abstract": false,
  "type": "Observation",
  "baseDefinition": "http://jpfhir.jp/fhir/core/StructureDefinition/JP_Observation_Common",
  "derivation": "constraint",
  "differential": {
    "element": [
      {
        "id": "Observation",
        "path": "Observation",
        "short": "身体所見に関する測定や簡単な観察事実（assertion）",
        "definition": "身体所見に関する測定や簡単な観察事実",
        "comment": "身体所見に関するObservation（検査測定や観察事実）の制約プロフィール"
      },
      {
        "id": "Observation.category",
        "path": "Observation.category",
        "slicing": {
          "discriminator": [
            {
              "type": "pattern",
              "path": "$this"
            }
          ],
          "rules": "open"
        },
        "comment": "In addition to the required category valueset, this element allows various categorization schemes based on the owner’s definition of the category and effectively multiple categories can be used at once.  The level of granularity is defined by the category concepts in the value set.\r\n\r\n【JP Core仕様】基底仕様のカテゴリ「exam」固定とする",
        "min": 1
      },
      {
        "id": "Observation.category:exam",
        "path": "Observation.category",
        "sliceName": "exam",
        "min": 1,
        "max": "1",
        "patternCodeableConcept": {
          "coding": [
            {
              "code": "exam",
              "system": "http://terminology.hl7.org/CodeSystem/observation-category"
            }
          ]
        }
      },
      {
        "id": "Observation.code",
        "path": "Observation.code",
        "comment": "*All* code-value and, if present, component.code-component.value pairs need to be taken into account to correctly understand the meaning of the observation.\r\n\r\n【JP Core仕様】所見の有無を表すコード（固定値）",
        "binding": {
          "strength": "preferred",
          "valueSet": "http://jpfhir.jp/fhir/core/ValueSet/JP_PhysicalExamCode_VS"
        }
      },
      {
        "id": "Observation.code.coding",
        "path": "Observation.code.coding",
        "slicing": {
          "discriminator": [
            {
              "type": "pattern",
              "path": "$this"
            }
          ],
          "rules": "open"
        }
      },
      {
        "id": "Observation.code.coding:physicalExamCode",
        "path": "Observation.code.coding",
        "sliceName": "physicalExamCode",
        "short": "身体所見項目コード。本ユースケースにおける項目コード推奨値をスライスにて示している。【詳細参照】",
        "definition": "身体所見項目コード。本ユースケースにおける項目コード推奨値をスライスにて示している。",
        "comment": "推奨項目コードは必須ではない、派生先によるコード体系を作成し割り振ることを否定しない",
        "min": 0,
        "max": "1",
        "patternCoding": {
          "code": "physical-findings",
          "system": "http://jpfhir.jp/fhir/core/CodeSystem/JP_PhysicalExamCode_CS",
          "display": "Physical Findings"
        }
      },
      {
        "id": "Observation.subject",
        "path": "Observation.subject",
        "comment": "One would expect this element to be a cardinality of 1..1. The only circumstance in which the subject can be missing is when the observation is made by a device that does not know the patient. In this case, the observation SHALL be matched to a patient through some context/channel matching technique, and at this point, the observation should be updated.\r\n\r\n【JP Core仕様】患者",
        "min": 1,
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "http://jpfhir.jp/fhir/core/StructureDefinition/JP_Patient"
            ]
          }
        ]
      },
      {
        "id": "Observation.encounter",
        "path": "Observation.encounter",
        "comment": "This will typically be the encounter the event occurred within, but some events may be initiated prior to or after the official completion of an encounter but still be tied to the context of the encounter (e.g. pre-admission laboratory tests).\r\n\r\n【JP Core仕様】診察"
      },
      {
        "id": "Observation.effective[x]",
        "path": "Observation.effective[x]",
        "comment": "At least a date should be present unless this observation is a historical report.  For recording imprecise or \"fuzzy\" times (For example, a blood glucose measurement taken \"after breakfast\") use the [Timing](datatypes.html#timing) datatype which allow the measurement to be tied to regular life events.\r\n\r\n【JP Core仕様】effectiveDateTime：医療者が確認した日時\r\n\r\neffectivePeriod：医療者が確認した期間",
        "type": [
          {
            "code": "dateTime"
          },
          {
            "code": "Period"
          }
        ]
      },
      {
        "id": "Observation.valueCodeableConcept",
        "path": "Observation.valueCodeableConcept",
        "short": "所見の有無（Y or N）を指定する",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "CodeableConcept"
          }
        ],
        "binding": {
          "strength": "preferred",
          "valueSet": "http://terminology.hl7.org/ValueSet/v2-0136"
        }
      },
      {
        "id": "Observation.bodySite",
        "path": "Observation.bodySite",
        "comment": "ICD-11",
        "binding": {
          "strength": "preferred",
          "valueSet": "http://jpfhir.jp/fhir/core/ValueSet/JP_ObservationPhysicalExamBodySite_VS"
        }
      },
      {
        "id": "Observation.method",
        "path": "Observation.method",
        "comment": "MEDIS症状・所見マスターの「診察方法」",
        "binding": {
          "strength": "preferred",
          "valueSet": "http://jpfhir.jp/fhir/core/ValueSet/JP_ObservationPhysicalExamMethod_VS"
        }
      },
      {
        "id": "Observation.hasMember",
        "path": "Observation.hasMember",
        "comment": "When using this element, an observation will typically have either a value or a set of related resources, although both may be present in some cases.  For a discussion on the ways Observations can assembled in groups together, see [Notes](observation.html#obsgrouping) below.  Note that a system may calculate results from [QuestionnaireResponse](questionnaireresponse.html)  into a final score and represent the score as an Observation.\r\n\r\n【JP Core仕様】関連する参照リソースにJP_Observation_PhysicalExamを追加",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "http://jpfhir.jp/fhir/core/StructureDefinition/JP_Observation_Common",
              "http://hl7.org/fhir/StructureDefinition/QuestionnaireResponse",
              "http://hl7.org/fhir/StructureDefinition/MolecularSequence",
              "http://jpfhir.jp/fhir/core/StructureDefinition/JP_Observation_PhysicalExam"
            ]
          }
        ]
      },
      {
        "id": "Observation.derivedFrom",
        "path": "Observation.derivedFrom",
        "comment": "All the reference choices that are listed in this element can represent clinical observations and other measurements that may be the source for a derived value.  The most common reference will be another Observation.  For a discussion on the ways Observations can assembled in groups together, see [Notes](observation.html#obsgrouping) below.\r\n\r\n【JP Core仕様】導出元の参照リソースにJP_Observation_PhysicalExamを追加",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "http://hl7.org/fhir/StructureDefinition/DocumentReference",
              "http://hl7.org/fhir/StructureDefinition/ImagingStudy",
              "http://hl7.org/fhir/StructureDefinition/Media",
              "http://hl7.org/fhir/StructureDefinition/QuestionnaireResponse",
              "http://jpfhir.jp/fhir/core/StructureDefinition/JP_Observation_Common",
              "http://hl7.org/fhir/StructureDefinition/MolecularSequence",
              "http://jpfhir.jp/fhir/core/StructureDefinition/JP_Observation_PhysicalExam"
            ]
          }
        ]
      },
      {
        "id": "Observation.component",
        "path": "Observation.component",
        "short": "所見有り（valueCodeableConceptがY）の場合に、具体的な所見をコード、または文字列で記載する",
        "comment": "For a discussion on the ways Observations can be assembled in groups together see [Notes](observation.html#notes) below.\r\n\r\n【JP Core仕様】具体的な所見を記載する"
      },
      {
        "id": "Observation.component.code",
        "path": "Observation.component.code",
        "comment": "*All* code-value and  component.code-component.value pairs need to be taken into account to correctly understand the meaning of the observation.\r\n\r\n【JP Core仕様】具体的な所見を表すコード（固定値）",
        "binding": {
          "strength": "preferred",
          "valueSet": "http://jpfhir.jp/fhir/core/ValueSet/JP_PhysicalExamCode_VS"
        }
      },
      {
        "id": "Observation.component.code.coding",
        "path": "Observation.component.code.coding",
        "slicing": {
          "discriminator": [
            {
              "type": "pattern",
              "path": "$this"
            }
          ],
          "rules": "open"
        }
      },
      {
        "id": "Observation.component.code.coding:physicalExamCode",
        "path": "Observation.component.code.coding",
        "sliceName": "physicalExamCode",
        "short": "身体所見項目コード。本ユースケースにおける項目コード推奨値をスライスにて示している。【詳細参照】",
        "definition": "身体所見項目コード。本ユースケースにおける項目コード推奨値をスライスにて示している。",
        "comment": "推奨項目コードは必須ではない、派生先によるコード体系を作成し割り振ることを否定しない",
        "min": 0,
        "max": "1",
        "patternCoding": {
          "code": "detailed-physical-findings",
          "system": "http://jpfhir.jp/fhir/core/CodeSystem/JP_PhysicalExamCode_CS",
          "display": "Detailed Physical Findings"
        }
      }
    ]
  }
}
